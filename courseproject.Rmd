---
title: "Regression Models Course Project"
author: "aps2201"
date: "February 13, 2016"
output: html_document
---

```{r,include=FALSE}
source("courseproject.R")
```

#Overview
In this project we want to see two things:

* Is an automatic or manual transmission better for MPG?
* The MPG difference between automatic and manual transmissions

First, we need to look at the `mtcars` dataset

```{r}
summary(mtcars)
```

The vs and am are not supposed to be numeric, since they are actually codes for V/S and automatic/manual respectively.

Lets fix that

```{r}
mtcars$vs=sub("0","V",mtcars$vs)
mtcars$vs=sub("1","S",mtcars$vs)

mtcars$am=sub("0","automatic",mtcars$am)
mtcars$am=sub("1","manual",mtcars$am)

mtcars$vs=as.factor(mtcars$vs)
mtcars$am=as.factor(mtcars$am)
```

```{r}
summary(mtcars)
```

ok, now we need to answer the question *Is an automatic or manual transmission better for MPG?*, to do this we can explore this by plotting the mpg with the transmission type.

```{r}
amformpg
```

Now we can see that from miles per gallon (mpg) automatic seems to be the more gas guzzling compared to manual. Hence, manual is better compared to automatic regarding mpg.

Ok, this gives us a general idea, we need to look at the correlation table to see how it actually correlates, for this we need to convert the factors back to numeric for the `cor()` function to read.

```{r}

mtcars$vs=as.numeric(mtcars$vs)

mtcars$am=as.numeric(mtcars$am)

cor(mtcars)
```
So, now that we have proof on our assumption, we need to fit a reggression model to the correlation.

By the looks of of the correlation table there are some outstanding numbers, remember we are just looking for mpg difference for automatic and manual.

```{r}
initialmodel <- lm(mpg ~ ., data = mtcars)
bestmodel <- step(initialmodel, direction = "both")
```

```{r}
basemodel <- lm(mpg ~ am, data = mtcars)
anova(basemodel, bestmodel)
```

```{r}
par(mfrow=c(2, 2))
plot(bestmodel)
```

```{r}
t.test(mpg ~ am, data = mtcars)
```

